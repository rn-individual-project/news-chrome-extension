{"mappings":";MAAIA,mDAAa;EAEjBC,OAAOC,QAAQC,UAAUC,YACrB,UAASC,SAASC,QAAQC;IAEtB;MACIC,YAAY;UACRC,SAASC,UAAUD,SAASC,WAAW;YACnCC,UAAUF,SAASC,OAAOE,MAAM;iBAC3BF,UAAUC;UACfD,SAASG,OAAOC,KAAKJ;cACjBA,OAAOK,UAAU,GAAGP,UAAUQ,SAAS,OAAQR,YAAY;mBACpDS,mBAAmBP,OAAOK,UAAUP,UAAUQ,SAAS;;;;aAInE;;QAEPE,YAAYC;UAEVC,MAAMpB,mDAAa;IACzBqB,MAAMD;MACFE,QAAQ;MACRC;QACI,UAAU;QACV,gBAAgB;;MAEpBC,MAAMC,KAAKC;QAAW,WAAWrB,QAAQsB;QAAS,OAAOtB,QAAQe;QAAK,uBAAuBF;;OAE5FU,KAAK,AAAAC,YAAYA,SAASC,QAC1BF,KAAK,AAAAC,YAAYtB;MAAewB,QAAQF;QACxCG,MAAM,AAAAC,SAASC,QAAQC,IAAIF;WAEzB","sources":["./src/background.js"],"sourcesContent":["var serverhost = 'https://fake-news-detector.azurewebsites.net';\r\n\r\nchrome.runtime.onMessage.addListener(\r\n    function(request, sender, sendResponse) {\r\n\r\n        function getCSRF() {\r\n            tokenName = \"csrftoken\";\r\n            if (document.cookie && document.cookie !== \"\") {\r\n                let cookies = document.cookie.split(\";\");\r\n                for (let cookie in cookies) {\r\n                    cookie = jQuery.trim(cookie);\r\n                    if (cookie.substring(0, tokenName.length + 1) === (tokenName + \"=\")) {\r\n                        return decodeURIComponent(cookie.substring(tokenName.length + 1));\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n        let csrftoken = getCSRF();\r\n\r\n        const url = serverhost + '/biasdet/get_prediction/';\r\n        fetch(url, {\r\n            method: 'post',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({'article': request.article, 'url': request.url, 'csrfmiddlewaretoken': csrftoken})\r\n        })\r\n            .then(response => response.json())\r\n            .then(response => sendResponse({ result: response}))\r\n            .catch(error => console.log(error));\r\n\r\n        return true;\r\n    });"],"names":["$e39320be2fcaa38be67f2bda499e9371$var$serverhost","chrome","runtime","onMessage","addListener","request","sender","sendResponse","tokenName","document","cookie","cookies","split","jQuery","trim","substring","length","decodeURIComponent","csrftoken","getCSRF","url","fetch","method","headers","body","JSON","stringify","article","then","response","json","result","catch","error","console","log"],"version":3,"file":"background.js.map"}